{"ast":null,"code":"import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, renderList as _renderList, Fragment as _Fragment } from \"vue\";\nconst _hoisted_1 = {\n  class: \"shopping-cart\"\n};\nconst _hoisted_2 = {\n  key: 0,\n  class: \"loading\"\n};\nconst _hoisted_3 = {\n  key: 1,\n  class: \"error-message\"\n};\nconst _hoisted_4 = {\n  key: 2,\n  class: \"empty-cart\"\n};\nconst _hoisted_5 = {\n  key: 3,\n  class: \"cart-items\"\n};\nconst _hoisted_6 = [\"src\", \"alt\"];\nconst _hoisted_7 = {\n  class: \"item-details\"\n};\nconst _hoisted_8 = {\n  class: \"price\"\n};\nconst _hoisted_9 = {\n  class: \"item-controls\"\n};\nconst _hoisted_10 = {\n  class: \"quantity-controls\"\n};\nconst _hoisted_11 = [\"onClick\", \"disabled\"];\nconst _hoisted_12 = {\n  class: \"quantity\"\n};\nconst _hoisted_13 = [\"onClick\"];\nconst _hoisted_14 = [\"onClick\"];\nconst _hoisted_15 = {\n  class: \"cart-summary\"\n};\nconst _hoisted_16 = {\n  class: \"cart-total\"\n};\nconst _hoisted_17 = {\n  class: \"total-price\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_cache[4] || (_cache[4] = _createElementVNode(\"h2\", null, \"Your Shopping Cart\", -1 /* HOISTED */)), $setup.loading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, \"Loading cart...\")) : $setup.error ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, \"Error loading cart: \" + _toDisplayString($setup.error), 1 /* TEXT */)) : $setup.cart.length === 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, _cache[1] || (_cache[1] = [_createElementVNode(\"p\", null, \"Your cart is empty\", -1 /* HOISTED */), _createElementVNode(\"button\", {\n    class: \"continue-shopping\"\n  }, \"Continue Shopping\", -1 /* HOISTED */)]))) : (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.cart, item => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: item.id,\n      class: \"cart-item\"\n    }, [_createElementVNode(\"img\", {\n      src: item.image,\n      alt: item.name,\n      class: \"item-image\"\n    }, null, 8 /* PROPS */, _hoisted_6), _createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"h3\", null, _toDisplayString(item.name), 1 /* TEXT */), _createElementVNode(\"p\", _hoisted_8, \"€\" + _toDisplayString(item.price.toFixed(2)), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"div\", _hoisted_10, [_createElementVNode(\"button\", {\n      class: \"quantity-btn\",\n      onClick: $event => $setup.updateQuantity(item.id, item.quantity - 1),\n      disabled: item.quantity <= 1\n    }, \"-\", 8 /* PROPS */, _hoisted_11), _createElementVNode(\"span\", _hoisted_12, _toDisplayString(item.quantity), 1 /* TEXT */), _createElementVNode(\"button\", {\n      class: \"quantity-btn\",\n      onClick: $event => $setup.updateQuantity(item.id, item.quantity + 1)\n    }, \"+\", 8 /* PROPS */, _hoisted_13)]), _createElementVNode(\"button\", {\n      class: \"remove-btn\",\n      onClick: $event => $setup.removeFromCart(item.id)\n    }, \"Remove\", 8 /* PROPS */, _hoisted_14)])]);\n  }), 128 /* KEYED_FRAGMENT */)), _createElementVNode(\"div\", _hoisted_15, [_createElementVNode(\"div\", _hoisted_16, [_cache[2] || (_cache[2] = _createElementVNode(\"span\", null, \"Total:\", -1 /* HOISTED */)), _createElementVNode(\"span\", _hoisted_17, \"€\" + _toDisplayString($setup.totalPrice.toFixed(2)), 1 /* TEXT */)]), _cache[3] || (_cache[3] = _createElementVNode(\"button\", {\n    class: \"checkout-btn\"\n  }, \"Proceed to Checkout\", -1 /* HOISTED */)), _createElementVNode(\"button\", {\n    class: \"clear-cart-btn\",\n    onClick: _cache[0] || (_cache[0] = (...args) => $setup.clearCart && $setup.clearCart(...args))\n  }, \"Clear Cart\")])]))]);\n}","map":{"version":3,"names":["class","key","_createElementBlock","_hoisted_1","_createElementVNode","$setup","loading","_hoisted_2","error","_hoisted_3","_toDisplayString","cart","length","_hoisted_4","_cache","_hoisted_5","_Fragment","_renderList","item","id","src","image","alt","name","_hoisted_6","_hoisted_7","_hoisted_8","price","toFixed","_hoisted_9","_hoisted_10","onClick","$event","updateQuantity","quantity","disabled","_hoisted_11","_hoisted_12","_hoisted_13","removeFromCart","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","totalPrice","args","clearCart"],"sources":["C:\\Users\\young\\OneDrive\\Desktop\\ThesisWebshop\\webshop-mf\\shopping-cart\\src\\components\\ShoppingCart.vue"],"sourcesContent":["<template>\r\n  <div class=\"shopping-cart\">\r\n    <h2>Your Shopping Cart</h2>\r\n    <div v-if=\"loading\" class=\"loading\">Loading cart...</div>\r\n    <div v-else-if=\"error\" class=\"error-message\">Error loading cart: {{ error }}</div>\r\n    <div v-else-if=\"cart.length === 0\" class=\"empty-cart\">\r\n      <p>Your cart is empty</p>\r\n      <button class=\"continue-shopping\">Continue Shopping</button>\r\n    </div>\r\n    <div v-else class=\"cart-items\">\r\n      <div v-for=\"item in cart\" :key=\"item.id\" class=\"cart-item\">\r\n        <img :src=\"item.image\" :alt=\"item.name\" class=\"item-image\">\r\n        <div class=\"item-details\">\r\n          <h3>{{ item.name }}</h3>\r\n          <p class=\"price\">€{{ item.price.toFixed(2) }}</p>\r\n        </div>\r\n        <div class=\"item-controls\">\r\n          <div class=\"quantity-controls\">\r\n            <button class=\"quantity-btn\" @click=\"updateQuantity(item.id, item.quantity - 1)\" :disabled=\"item.quantity <= 1\">-</button>\r\n            <span class=\"quantity\">{{ item.quantity }}</span>\r\n            <button class=\"quantity-btn\" @click=\"updateQuantity(item.id, item.quantity + 1)\">+</button>\r\n          </div>\r\n          <button class=\"remove-btn\" @click=\"removeFromCart(item.id)\">Remove</button>\r\n        </div>\r\n      </div>\r\n      <div class=\"cart-summary\">\r\n        <div class=\"cart-total\">\r\n          <span>Total:</span>\r\n          <span class=\"total-price\">€{{ totalPrice.toFixed(2) }}</span>\r\n        </div>\r\n        <button class=\"checkout-btn\">Proceed to Checkout</button>\r\n        <button class=\"clear-cart-btn\" @click=\"clearCart\">Clear Cart</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, computed, onMounted } from 'vue';\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n  name: 'ShoppingCart',\r\n  setup() {\r\n    const cart = ref([]);\r\n    const loading = ref(true);\r\n    const error = ref(null);\r\n\r\n    const totalPrice = computed(() => {\r\n      return cart.value.reduce((sum, item) => sum + (item.price * item.quantity), 0);\r\n    });\r\n\r\n    const fetchCart = async () => {\r\n      try {\r\n        loading.value = true;\r\n        const response = await axios.get('http://localhost:3000/api/cart');\r\n        cart.value = response.data;\r\n      } catch (err) {\r\n        error.value = err.message;\r\n      } finally {\r\n        loading.value = false;\r\n      }\r\n    };\r\n\r\n    const updateQuantity = async (id, newQuantity) => {\r\n      if (newQuantity < 1) return;\r\n      \r\n      try {\r\n        await axios.put(`http://localhost:3000/api/cart/${id}`, { quantity: newQuantity });\r\n        // Update local state\r\n        const itemIndex = cart.value.findIndex(item => item.id === id);\r\n        if (itemIndex !== -1) {\r\n          cart.value[itemIndex].quantity = newQuantity;\r\n        }\r\n      } catch (err) {\r\n        error.value = `Error updating quantity: ${err.message}`;\r\n      }\r\n    };\r\n\r\n    const removeFromCart = async (id) => {\r\n      try {\r\n        await axios.delete(`http://localhost:3000/api/cart/${id}`);\r\n        // Update local state\r\n        cart.value = cart.value.filter(item => item.id !== id);\r\n      } catch (err) {\r\n        error.value = `Error removing item: ${err.message}`;\r\n      }\r\n    };\r\n\r\n    const clearCart = async () => {\r\n      try {\r\n        await axios.delete('http://localhost:3000/api/cart');\r\n        cart.value = [];\r\n      } catch (err) {\r\n        error.value = `Error clearing cart: ${err.message}`;\r\n      }\r\n    };\r\n\r\n    onMounted(fetchCart);\r\n\r\n    return {\r\n      cart,\r\n      loading,\r\n      error,\r\n      totalPrice,\r\n      updateQuantity,\r\n      removeFromCart,\r\n      clearCart\r\n    };\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.shopping-cart {\r\n  max-width: 800px;\r\n  margin: 0 auto;\r\n  padding: 20px;\r\n  background-color: #f9f9f9;\r\n  border-radius: 8px;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\nh2 {\r\n  color: #333;\r\n  margin-bottom: 20px;\r\n  text-align: center;\r\n}\r\n\r\n.cart-items {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 15px;\r\n}\r\n\r\n.cart-item {\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 15px;\r\n  background-color: white;\r\n  border-radius: 8px;\r\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.item-image {\r\n  width: 80px;\r\n  height: 80px;\r\n  object-fit: cover;\r\n  border-radius: 4px;\r\n  margin-right: 15px;\r\n}\r\n\r\n.item-details {\r\n  flex: 1;\r\n}\r\n\r\n.item-details h3 {\r\n  margin: 0 0 5px 0;\r\n  font-size: 1.1rem;\r\n}\r\n\r\n.price {\r\n  color: #e53935;\r\n  font-weight: bold;\r\n  margin: 0;\r\n}\r\n\r\n.item-controls {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-end;\r\n  gap: 10px;\r\n}\r\n\r\n.quantity-controls {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.quantity-btn {\r\n  background-color: #f0f0f0;\r\n  border: 1px solid #ddd;\r\n  width: 28px;\r\n  height: 28px;\r\n  border-radius: 4px;\r\n  font-weight: bold;\r\n  cursor: pointer;\r\n}\r\n\r\n.quantity-btn:disabled {\r\n  opacity: 0.5;\r\n  cursor: not-allowed;\r\n}\r\n\r\n.quantity {\r\n  margin: 0 10px;\r\n  font-weight: bold;\r\n}\r\n\r\n.remove-btn {\r\n  background-color: transparent;\r\n  color: #f44336;\r\n  border: 1px solid #f44336;\r\n  padding: 5px 10px;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  font-size: 0.9rem;\r\n}\r\n\r\n.remove-btn:hover {\r\n  background-color: #ffebee;\r\n}\r\n\r\n.cart-summary {\r\n  margin-top: 20px;\r\n  padding: 15px;\r\n  background-color: white;\r\n  border-radius: 8px;\r\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.cart-total {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  font-size: 1.2rem;\r\n  margin-bottom: 15px;\r\n}\r\n\r\n.total-price {\r\n  color: #e53935;\r\n  font-weight: bold;\r\n}\r\n\r\n.checkout-btn {\r\n  background-color: #4caf50;\r\n  color: white;\r\n  border: none;\r\n  padding: 12px 20px;\r\n  width: 100%;\r\n  border-radius: 4px;\r\n  font-weight: bold;\r\n  cursor: pointer;\r\n  font-size: 1rem;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.checkout-btn:hover {\r\n  background-color: #388e3c;\r\n}\r\n\r\n.clear-cart-btn {\r\n  background-color: #f44336;\r\n  color: white;\r\n  border: none;\r\n  padding: 8px 15px;\r\n  width: 100%;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  font-size: 0.9rem;\r\n}\r\n\r\n.clear-cart-btn:hover {\r\n  background-color: #d32f2f;\r\n}\r\n\r\n.empty-cart {\r\n  text-align: center;\r\n  padding: 30px;\r\n}\r\n\r\n.empty-cart p {\r\n  margin-bottom: 20px;\r\n  font-size: 1.1rem;\r\n  color: #666;\r\n}\r\n\r\n.continue-shopping {\r\n  background-color: #2196f3;\r\n  color: white;\r\n  border: none;\r\n  padding: 10px 20px;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  font-weight: bold;\r\n}\r\n\r\n.continue-shopping:hover {\r\n  background-color: #1976d2;\r\n}\r\n\r\n.loading {\r\n  text-align: center;\r\n  padding: 30px;\r\n  color: #666;\r\n}\r\n\r\n.error-message {\r\n  color: #d32f2f;\r\n  text-align: center;\r\n  padding: 20px;\r\n  background-color: #ffebee;\r\n  border-radius: 4px;\r\n  margin: 20px 0;\r\n  border-left: 4px solid #f44336;\r\n}\r\n\r\n@media (max-width: 600px) {\r\n  .cart-item {\r\n    flex-direction: column;\r\n    align-items: flex-start;\r\n  }\r\n  \r\n  .item-image {\r\n    margin-right: 0;\r\n    margin-bottom: 10px;\r\n    width: 100%;\r\n    height: 150px;\r\n  }\r\n  \r\n  .item-controls {\r\n    width: 100%;\r\n    flex-direction: row;\r\n    justify-content: space-between;\r\n    margin-top: 15px;\r\n  }\r\n}\r\n</style> "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}